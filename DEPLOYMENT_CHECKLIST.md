# üöÄ Deployment Checklist - Mapmo.vn

## ‚úÖ Files ƒë√£ chu·∫©n b·ªã

### Core Files
- [x] `requirements.txt` - Dependencies (ƒë√£ lo·∫°i b·ªè dev dependencies)
- [x] `runtime.txt` - Python version (3.11.0)
- [x] `Procfile` - Start command
- [x] `render.yaml` - Render configuration
- [x] `build.sh` - Build script
- [x] `.gitignore` - Git ignore rules

### Application Files
- [x] `app/main.py` - Updated with dynamic PORT
- [x] `static/js/app.js` - Updated with dynamic WebSocket URL
- [x] `config.env` - Updated for production

### Documentation
- [x] `README.md` - Updated with deployment instructions
- [x] `app.json` - App metadata

## üîß Configuration Changes

### Backend
- [x] Dynamic PORT handling in `app/main.py`
- [x] Production DEBUG=False
- [x] Environment variables support

### Frontend
- [x] Dynamic WebSocket URL (ws:// vs wss://)
- [x] Dynamic host detection
- [x] HTTPS support

## üìã Pre-Deployment Steps

### 1. Code Review
- [ ] Test locally with production settings
- [ ] Verify WebSocket connections work
- [ ] Check all features function correctly

### 2. Git Preparation
- [ ] Add all files to git
- [ ] Commit changes
- [ ] Push to GitHub

### 3. Render Setup
- [ ] Create Render account
- [ ] Connect GitHub repository
- [ ] Configure environment variables

## üåê Deployment Steps

### 1. Render Dashboard
1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click "New +" ‚Üí "Web Service"
3. Connect GitHub repository
4. Select branch: `main`

### 2. Service Configuration
- **Name**: `mapmo-vn`
- **Environment**: `Python`
- **Region**: Choose closest to users
- **Branch**: `main`
- **Build Command**: `chmod +x build.sh && ./build.sh`
- **Start Command**: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`

### 3. Environment Variables
Add these in Render Dashboard:
```
SECRET_KEY=<auto-generated>
DATABASE_URL=sqlite:///./mapmo.db
DEBUG=false
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
```

### 4. Deploy
- Click "Create Web Service"
- Wait for build to complete
- Test the application

## üß™ Post-Deployment Testing

### Basic Functionality
- [ ] Homepage loads
- [ ] Registration works
- [ ] Login works
- [ ] Profile setup works
- [ ] Search functionality works
- [ ] Chat works
- [ ] WebSocket connections work

### Advanced Features
- [ ] Message history loads
- [ ] Real-time messaging works
- [ ] Keep button works
- [ ] End conversation works
- [ ] Mobile responsiveness

## üîç Troubleshooting

### Common Issues
1. **Build fails**: Check `requirements.txt` and Python version
2. **WebSocket errors**: Verify URL format and SSL
3. **Database errors**: Check file permissions
4. **Environment variables**: Verify all are set correctly

### Logs
- Check Render logs for errors
- Monitor application performance
- Verify WebSocket connections

## üìû Support

If deployment fails:
1. Check Render logs
2. Verify all files are committed
3. Test locally with production settings
4. Review environment variables

---

**Status**: ‚úÖ Ready for deployment
**Last Updated**: $(date) 